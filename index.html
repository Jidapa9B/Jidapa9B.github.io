<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</title>
  <style>
    body{margin:0;font-family:'Noto Sans Thai',sans-serif;background:#f9fafc;color:#123;}
    a{text-decoration:none;color:inherit}
    header{background:linear-gradient(120deg,#4facfe,#00f2fe);color:#fff;text-align:center;padding:40px 20px}
    nav{background:#4CAF50;display:flex;justify-content:center}
    nav a{padding:14px 20px;color:white;font-weight:bold}
    nav a:hover{background:#45a049}
    .categories{display:flex;flex-wrap:wrap;justify-content:center;margin:20px auto;gap:10px;max-width:1000px}
    .cat-btn{flex:1 1 calc(25% - 10px);padding:20px;background:#fff;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.08);text-align:center;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
    .cat-btn:hover{transform:translateY(-3px);box-shadow:0 6px 16px rgba(0,0,0,0.12)}
    .carousel{display:flex;overflow-x:auto;gap:14px;padding:20px;scroll-snap-type:x mandatory}
    .carousel::-webkit-scrollbar{display:none}
    .project{flex:0 0 280px;background:white;border-radius:10px;overflow:hidden;scroll-snap-align:start;box-shadow:0 4px 10px rgba(0,0,0,0.1);transition:transform .2s ease;cursor:pointer}
    .project:hover{transform:translateY(-4px)}
    .project img{width:100%;height:180px;object-fit:cover}
    .project .info{padding:14px}
    .project .info h3{margin:0;font-size:1.2em;color:#222}
    .project .info p{margin:6px 0;color:#555;font-size:.9em}
    #project-detail{max-width:900px;margin:20px auto;padding:20px;background:white;border-radius:10px;box-shadow:0 4px 16px rgba(0,0,0,0.1);display:none}
    #project-detail h2{margin-top:0}
    .box{padding:14px;margin:10px 0;border-radius:8px;background:#f1f9f9}
    .box h4{margin:0 0 6px;color:#111}
    .highlights{display:flex;flex-direction:column;gap:6px}
    .highlight{padding:8px;background:#e3f2fd;border-radius:6px;font-size:.9em}
    .price{background:#fff3e0;font-size:1.2em;font-weight:bold;color:#d84315}
    .contact-btn{display:inline-block;margin-top:12px;padding:10px 18px;background:#4CAF50;color:#fff;border-radius:6px;font-weight:bold;transition:background .2s}
    .contact-btn:hover{background:#45a049}
    #mortgage{max-width:900px;margin:20px auto;padding:20px;background:white;border-radius:10px;box-shadow:0 4px 16px rgba(0,0,0,0.1)}
    #mortgage input{padding:8px;margin:6px;width:100%;max-width:200px}
    #mortgage button{padding:10px 20px;background:#4CAF50;color:#fff;border:none;border-radius:6px;cursor:pointer}
    #mortgage button:hover{background:#45a049}
    #contact{max-width:900px;margin:20px auto;padding:20px;background:white;border-radius:10px;box-shadow:0 4px 16px rgba(0,0,0,0.1)}
    #contact input,#contact textarea{width:100%;padding:10px;margin:6px 0;border:1px solid #ccc;border-radius:6px}
    #contact button{padding:10px 20px;background:#4CAF50;color:#fff;border:none;border-radius:6px;cursor:pointer}
    #contact button:hover{background:#45a049}
    @media(max-width:900px){.cat-btn{flex:1 1 calc(50% - 10px)}}
    @media(max-width:520px){.cat-btn{flex:1 1 100%}.carousel{padding:10px}}
    
    /* ===== Gallery grid ===== */
    .gallery-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:14px}
    .gallery-item{border-radius:10px;padding:20px;text-align:center;color:#123;font-weight:600;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
    .gallery-item:hover{transform:translateY(-4px);box-shadow:0 6px 16px rgba(0,0,0,0.08)}
    .gallery-item img{width:100%;height:140px;object-fit:cover;border-radius:6px;margin-bottom:8px}

    /* ===== Lightbox ===== */
    .lightbox{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);justify-content:center;align-items:center;z-index:1000}
    .lightbox img{max-width:90%;max-height:80%;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.5)}
    .lightbox .close,.lightbox .prev,.lightbox .next{
      position:absolute;top:50%;transform:translateY(-50%);
      background:rgba(0,0,0,0.6);color:#fff;border:none;
      font-size:2em;padding:10px;cursor:pointer;border-radius:50%
    }
    .lightbox .close{top:30px;right:30px;transform:none}
    .lightbox .prev{left:30px}
    .lightbox .next{right:30px}
    .lightbox .prev:hover,.lightbox .next:hover,.lightbox .close:hover{background:rgba(0,0,0,0.8)}
  </style>
</head>
<body>
  <header>
    <h1>‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>
    <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÉ‡∏à ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≠‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÜ</p>
  </header>
  <nav>
    <a href="#">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
    <a href="#project-detail">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
    <a href="#mortgage">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</a>
    <a href="#contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a>
  </nav>
  <div class="categories">
    <div class="cat-btn">üè° ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß</div>
    <div class="cat-btn">üèòÔ∏è ‡∏ó‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏Æ‡∏°</div>
    <div class="cat-btn">üè¢ ‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î</div>
    <div class="cat-btn">‚ú® ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</div>
  </div>
  <div class="carousel" id="project-carousel"></div>
  
  <div id="project-detail">
    <h2 id="detail-title"></h2>
    <div class="box"><h4>üè† ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</h4><div id="detail-info"></div></div>
    <div class="box"><h4>‚≠ê ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ó‡πå</h4><div class="highlights" id="detail-highlights"></div></div>
    
    <!-- ‚úÖ Gallery Section -->
    <div class="box gallery">
      <h4>üì∑ ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà</h4>
      <div class="gallery-grid" id="detail-gallery"></div>
    </div>

    <div class="box price" id="detail-price"></div>
    <a id="detail-contact" class="contact-btn">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏•‡∏¢</a>
  </div>
  
  <div id="mortgage">
    <h2>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠</h2>
    <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô: <input type="number" id="m-price" value="3000000"></label><br>
    <label>‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ (% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ): <input type="number" id="m-rate" value="3"></label><br>
    <label>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏õ‡∏µ): <input type="number" id="m-years" value="20"></label><br>
    <button onclick="calcMortgage()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
    <p id="m-result"></p>
  </div>
  
  <div id="contact">
    <h2>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h2>
    <form action="mailto:info@example.com" method="post" enctype="text/plain">
      <input type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠" name="name" required>
      <input type="email" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" name="email" required>
      <textarea placeholder="‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°" name="message" required></textarea>
      <button type="submit">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
    </form>
  </div>

  <!-- ‚úÖ Lightbox -->
  <div class="lightbox" id="lightbox">
    <button class="close" onclick="closeLightbox()">‚úñ</button>
    <button class="prev" onclick="prevImage()">‚ùÆ</button>
    <img id="lightbox-img" src="">
    <button class="next" onclick="nextImage()">‚ùØ</button>
  </div>

  <script>
    const $=s=>document.querySelector(s)
    const projects = [
      { 
        id:'A', name:'‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏ù‡∏±‡∏ô A', category:'‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß', price:3500000, 
        type:'‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß 2 ‡∏ä‡∏±‡πâ‡∏ô', lot:'60 ‡∏ï‡∏£.‡∏ß.', area:'180 ‡∏ï‡∏£.‡∏°.', 
        rooms:'3 ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô | 2 ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥ | ‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î 2 ‡∏Ñ‡∏±‡∏ô', 
        highlights:['‡πÉ‡∏Å‡∏•‡πâ‡∏´‡πâ‡∏≤‡∏á ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤','‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏ô ‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÇ‡∏•‡πà‡∏á','‡∏°‡∏µ‡∏™‡∏ô‡∏≤‡∏°‡∏´‡∏ç‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô‡πÄ‡∏•‡πá‡∏Å'], 
        img:'https://picsum.photos/seed/h1/900/500', 
        phone:'089-123-4567', line:'@sukjaivilla',
        gallery:[
          {title:'‡∏£‡∏π‡∏õ‡∏ö‡πâ‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å', img:'https://picsum.photos/seed/g1/900/600'},
          {title:'‡∏£‡∏π‡∏õ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô/‡∏Ñ‡∏£‡∏±‡∏ß', img:'https://picsum.photos/seed/g2/900/600'},
          {title:'‡∏£‡∏π‡∏õ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô', img:'https://picsum.photos/seed/g3/900/600'},
          {title:'‡πÅ‡∏õ‡∏•‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡πá‡∏Å ‡πÜ', img:'https://picsum.photos/seed/g4/900/600'}
        ]
      }
    ];
    const carousel=$('#project-carousel');
    projects.forEach(p=>{
      const d=document.createElement('div');
      d.className='project';
      d.innerHTML=`<img src="${p.img}"><div class="info"><h3>${p.name}</h3><p>${p.category}</p></div>`;
      d.onclick=()=>openProject(p.id);
      carousel.appendChild(d);
    });
    function openProject(id){
      const p=projects.find(x=>x.id===id);
      if(!p)return;
      $('#project-detail').style.display='block';
      $('#detail-title').innerText=p.name;
      $('#detail-info').innerHTML=`<p>üè∑Ô∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: ${p.type}</p><p>üìê ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô: ${p.lot}</p><p>üè¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏¢: ${p.area}</p><p>üõèÔ∏è ‡∏´‡πâ‡∏≠‡∏á: ${p.rooms}</p>`;
      $('#detail-highlights').innerHTML=p.highlights.map(h=>`<div class="highlight">${h}</div>`).join('');
      $('#detail-price').innerText="‡∏£‡∏≤‡∏Ñ‡∏≤: "+p.price.toLocaleString()+" ‡∏ö‡∏≤‡∏ó";
      $('#detail-contact').href="tel:"+p.phone;

      // render gallery
      const gwrap = $('#detail-gallery'); 
      gwrap.innerHTML='';
      if(Array.isArray(p.gallery)){
        p.gallery.forEach((g,i)=>{
          const el=document.createElement('div');
          el.className='gallery-item';
          el.innerHTML=`<img src="${g.img}" alt="${g.title}"><div>${g.title}</div>`;
          el.addEventListener('click',()=>openLightbox(p.gallery,i));
          gwrap.appendChild(el);
        });
      }
      $('#project-detail').scrollIntoView({behavior:'smooth'});
    }
    function calcMortgage(){
      const P=parseFloat($('#m-price').value),r=parseFloat($('#m-rate').value)/100/12,n=parseInt($('#m-years').value)*12;
      const pay=P*(r*Math.pow(1+r,n))/(Math.pow(1+r,n)-1);
      $('#m-result').innerText="‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: "+pay.toFixed(0).toLocaleString()+" ‡∏ö‡∏≤‡∏ó";
    }

    // ===== Lightbox Functions =====
    let currentGallery=[],currentIndex=0;
    function openLightbox(gallery,index){
      currentGallery=gallery; currentIndex=index;
      $('#lightbox').style.display='flex';
      updateLightbox();
    }
    function closeLightbox(){
      $('#lightbox').style.display='none';
    }
    function updateLightbox(){
      $('#lightbox-img').src=currentGallery[currentIndex].img;
    }
    function prevImage(){
      currentIndex=(currentIndex-1+currentGallery.length)%currentGallery.length;
      updateLightbox();
    }
    function nextImage(){
      currentIndex=(currentIndex+1)%currentGallery.length;
      updateLightbox();
    }
  </script>
</body>
</html>
